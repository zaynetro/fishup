<!doctype>
<head>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
  <style>
    body {
      padding: 0;
      margin: 0;
    }
    #map { height: 600px; }
    #filters {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #fff;
      padding: 10px;
      z-index: 10;
    }
  </style>
</head>
<body>
  <div id="filters">
    <select>
      <option>Value 1</option>
      <option>Value 2</option>
    </select>
  </div>
  <div id="map"></div>
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
  <script src='./geojson.js'></script>
  <script src='./ferries.js'></script>
  <script>
    var mapDom = document.getElementById('map');
    mapDom.style.height = document.body.clientHeight;

    var map = L.map('map').setView([51.505, -0.09], 13);

    // create the tile layer with correct attribution
    var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
    var osmAttrib='Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';

    map.setView([60.42, 22.14], 10);

    L.tileLayer(osmUrl, {
      attribution: osmAttrib,
      minZoom: 2,
      maxZoom: 18
    }).addTo(map);


    var fishSpotStyle = {
      fillColor : '#f03',
      fillOpacity : 0.7,
      stroke : false
    };

    var fishSpotPopup = function (feature) {
      return '<b>Paikka:</b> '    +
        feature.properties.Paikka +
        '<br>'                    +
        '<b>Kuvaus</b> '          +
        feature.properties.Kuvaus;
    };

    L.geoJson(data, {
      onEachFeature: function (feature, layer) {
        layer.bindPopup(fishSpotPopup(feature));
      },
      pointToLayer : function (feature, latlng) {
        return L.circleMarker(latlng, fishSpotStyle);
      }
    }).addTo(map);


    L.geoJson(ferries, {
      style : function (feature) {
        return {
          color : '#000',
          fillColor : '#000',
          weight : 10,
          fillOpacity : 0.5
        };
      },
      onEachFeature: function (feature, layer) {
          layer.bindPopup(feature.properties.Link);      
      }     
    }).addTo(map);
  </script>
</body>
